{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/nitrox-calculator-using-swiftui-part3/","result":{"data":{"site":{"siteMetadata":{"title":"nikz.dev"}},"markdownRemark":{"id":"78524988-7f85-5437-808a-70f28cad22da","excerpt":"So far in the Nitrox Calculator series we've created a basic SwiftUI project and defined the layout and the basic building blocks of our Nitrox Calculator: Part…","html":"<p>So far in the Nitrox Calculator series we've created a basic SwiftUI project and defined the layout and the basic building blocks of our Nitrox Calculator:</p>\n<ul>\n<li><a href=\"/nitrox-calculator-using-swiftui-part1\">Part 1 - Project Setup</a></li>\n<li><a href=\"/nitrox-calculator-using-swiftui-part2\">Part 2 - Basic View Definitions</a></li>\n</ul>\n<p>In Part 3 we are going to do a little bit of math and wire up the calculations to the UI</p>\n<h2>Maximum Operating Depth (MOD)</h2>\n<p>The calculations for MOD are quite basic. We need:</p>\n<ul>\n<li>The fraction of oxygen in the gas mix - <code>fO2</code></li>\n<li>The Partial Pressure of Oxygen (ppO₂) - <code>ppO2</code></li>\n<li>The measurement system - Metric or Imperial</li>\n</ul>\n<p>For Metric we will use the following formula:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>M</mi><mi>O</mi><mi>D</mi><mo stretchy=\"false\">(</mo><mi>m</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>10</mn><mo>×</mo><mrow><mo fence=\"true\">[</mo><mfrac><mrow><mi>p</mi><mi>p</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><mrow><mi>F</mi><msub><mi>O</mi><mn>2</mn></msub></mrow></mfrac><mo>−</mo><mn>1</mn><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">MOD(m) = 10 \\times \\left[ \\frac{ppO_2}{FO_2} - 1 \\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">MO</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">m</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">10</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.4em;vertical-align:-0.95em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">[</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">pp</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.836em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">1</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">]</span></span></span></span></span></span></span></div>\n<p>And for Imperial:</p>\n<div class=\"math math-display\"><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>M</mi><mi>O</mi><mi>D</mi><mo stretchy=\"false\">(</mo><mi>f</mi><mi>t</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>33</mn><mo>×</mo><mrow><mo fence=\"true\">[</mo><mfrac><mrow><mi>p</mi><mi>p</mi><msub><mi>O</mi><mn>2</mn></msub></mrow><mrow><mi>F</mi><msub><mi>O</mi><mn>2</mn></msub></mrow></mfrac><mo>−</mo><mn>1</mn><mo fence=\"true\">]</mo></mrow></mrow><annotation encoding=\"application/x-tex\">MOD(ft) = 33 \\times \\left[ \\frac{ppO_2}{FO_2} - 1 \\right]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">MO</span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">D</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\" style=\"margin-right:0.10764em;\">f</span><span class=\"mord mathnormal\">t</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">33</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.4em;vertical-align:-0.95em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">[</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.3603em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.13889em;\">F</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">pp</span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.3011em;\"><span style=\"top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"><span></span></span></span></span></span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.836em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\">1</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size3\">]</span></span></span></span></span></span></span></div>\n<p>Note that the conversion in not very precise, 10m is supposed to be 32.8083ft. However, the typical formula that scuba divers learn uses rounded-up numbers, which also adds a little bit of conservatism. Our calculator will use the standard formulas so that we can get results closer to what the users expect when doing the calculations by hand.</p>\n<h2>Calculator class</h2>\n<p>Let's create a new Swift file, <code>MODCalculator.swift</code>, for the calculator class. As stated earlier, we'll need few input parameters:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"swift\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">MODCalculator</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">func</span><span class=\"mtk1\"> </span><span class=\"mtk11\">calculateMOD</span><span class=\"mtk1\">(</span><span class=\"mtk11\">fO2</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Double</span><span class=\"mtk1\">, </span><span class=\"mtk11\">ppO2</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Double</span><span class=\"mtk1\">, </span><span class=\"mtk11\">unit</span><span class=\"mtk1\">: Unit) -&gt; </span><span class=\"mtk10\">Double</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> mod = (ppO2 / (fO2 / </span><span class=\"mtk7\">100.0</span><span class=\"mtk1\">) - </span><span class=\"mtk7\">1</span><span class=\"mtk1\">) * </span><span class=\"mtk7\">10.0</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> unit == .</span><span class=\"mtk12\">imperial</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            mod *= </span><span class=\"mtk7\">3.3</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk11\">round</span><span class=\"mtk1\">(mod)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>At the end we round the result to the nearest integer.</p>\n<h2>Updating the UI</h2>\n<p>Time to integrate the calculator. There quite a few changes highlighted below - we'll cover them one by one:</p>\n<ul>\n<li>2: an instance of <code>MODCalculator</code> is initialized</li>\n<li>7: New <code>@State</code> variable to hold the calculated MOD</li>\n<li>20: Displaying the MOD</li>\n<li>28, 39, 46: Updating the MOD when <code>fO2</code> or <code>ppO2</code> is changed, and when the view appears</li>\n<li>50: The <code>updateMOD</code> function uses the calculator instance</li>\n</ul>\n<pre class=\"grvsc-container grvsc-has-line-highlighting default-dark\" data-language=\"swift\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">struct</span><span class=\"mtk1\"> </span><span class=\"mtk10\">MODCalculatorView</span><span class=\"mtk1\">: View {</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">let</span><span class=\"mtk1\"> calculator = </span><span class=\"mtk11\">MODCalculator</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">@AppStorage</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;unit&quot;</span><span class=\"mtk1\">) </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> unit: Unit = Unit.</span><span class=\"mtk12\">metric</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">@State</span><span class=\"mtk1\"> </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> ppO2: </span><span class=\"mtk10\">Double</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">1.4</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">@State</span><span class=\"mtk1\"> </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> fO2: </span><span class=\"mtk10\">Double</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">21</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">@State</span><span class=\"mtk1\"> </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> mod: </span><span class=\"mtk10\">Double</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">0</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> body: some View {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        VStack {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk11\">Spacer</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            VStack {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Max Operating Depth&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    .</span><span class=\"mtk11\">multilineTextAlignment</span><span class=\"mtk1\">(.</span><span class=\"mtk12\">center</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    .</span><span class=\"mtk11\">font</span><span class=\"mtk1\">(.</span><span class=\"mtk12\">title</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    .</span><span class=\"mtk11\">padding</span><span class=\"mtk1\">(</span><span class=\"mtk7\">4</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;for&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">light</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;EAN </span><span class=\"mtk4\">\\(</span><span class=\"mtk1\">fO2, specifier: </span><span class=\"mtk8\">&quot;%0.0f&quot;</span><span class=\"mtk4\">)</span><span class=\"mtk8\">&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">strong</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;is&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">light</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;</span><span class=\"mtk4\">\\(</span><span class=\"mtk1\">mod, specifier: </span><span class=\"mtk8\">&quot;%0.0f&quot;</span><span class=\"mtk4\">)</span><span class=\"mtk8\"> </span><span class=\"mtk4\">\\(</span><span class=\"mtk1\">unit == .</span><span class=\"mtk12\">metric</span><span class=\"mtk1\"> ? </span><span class=\"mtk8\">&quot;meters&quot;</span><span class=\"mtk1\"> : </span><span class=\"mtk8\">&quot;feet&quot;</span><span class=\"mtk4\">)</span><span class=\"mtk8\">&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">strong</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk11\">Slider</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">value</span><span class=\"mtk1\">: $fO2,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">in</span><span class=\"mtk1\">: </span><span class=\"mtk7\">21</span><span class=\"mtk1\">...</span><span class=\"mtk7\">100</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">step</span><span class=\"mtk1\">: </span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    .</span><span class=\"mtk11\">padding</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    .</span><span class=\"mtk11\">onChange</span><span class=\"mtk1\">(</span><span class=\"mtk11\">of</span><span class=\"mtk1\">: fO2) { </span><span class=\"mtk12\">_</span><span class=\"mtk1\"> </span><span class=\"mtk15\">in</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">updateMOD</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"31\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;with ppO₂&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">font</span><span class=\"mtk1\">(.</span><span class=\"mtk12\">subheadline</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"32\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"33\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk11\">Picker</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;ppO2&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk11\">selection</span><span class=\"mtk1\">: $ppO2) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"34\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;1.4&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">tag</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1.4</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"35\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;1.5&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">tag</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1.5</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"36\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;1.6&quot;</span><span class=\"mtk1\">).</span><span class=\"mtk11\">tag</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1.6</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"37\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                }</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"38\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    .</span><span class=\"mtk11\">onChange</span><span class=\"mtk1\">(</span><span class=\"mtk11\">of</span><span class=\"mtk1\">: ppO2) { </span><span class=\"mtk12\">_</span><span class=\"mtk1\"> </span><span class=\"mtk15\">in</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"39\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    </span><span class=\"mtk11\">updateMOD</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"40\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"41\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    .</span><span class=\"mtk11\">pickerStyle</span><span class=\"mtk1\">(.</span><span class=\"mtk12\">segmented</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"42\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">                    .</span><span class=\"mtk11\">padding</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"43\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"44\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk11\">Spacer</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"45\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        }.</span><span class=\"mtk12\">onAppear</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"46\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk11\">updateMOD</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"47\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"48\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"49\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"50\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">func</span><span class=\"mtk1\"> </span><span class=\"mtk11\">updateMOD</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"51\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">self</span><span class=\"mtk1\">.</span><span class=\"mtk12\">mod</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">self</span><span class=\"mtk1\">.</span><span class=\"mtk12\">calculator</span><span class=\"mtk1\">.</span><span class=\"mtk11\">calculateMOD</span><span class=\"mtk1\">(</span><span class=\"mtk11\">fO2</span><span class=\"mtk1\">: fO2, </span><span class=\"mtk11\">ppO2</span><span class=\"mtk1\">: ppO2, </span><span class=\"mtk11\">unit</span><span class=\"mtk1\">: unit)</span></span></span>\n<span class=\"grvsc-line grvsc-line-highlighted\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"52\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"53\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Now it's all working together:</p>\n<img src=\"/abbedd733786195fe6b6f4641ae48831/part3-preview.gif\" alt=\"Result\" class=\"gif\">\n<h2>Enhancements</h2>\n<p>The app is functionally complete, but we can do better...</p>\n<p>When the user drags the slider to the left end we can display \"Air\" instead of EAN21, and when the user drags to 100 we can display \"Oxygen\". Let's replace Line 18 with the following block:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"swift\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">if</span><span class=\"mtk1\"> fO2 == </span><span class=\"mtk7\">21</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Air&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        .</span><span class=\"mtk11\">strong</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">} </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> fO2 == </span><span class=\"mtk7\">100</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Oxygen&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        .</span><span class=\"mtk11\">strong</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">} </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">Text</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;EAN </span><span class=\"mtk4\">\\(</span><span class=\"mtk1\">fO2, specifier: </span><span class=\"mtk8\">&quot;%0.0f&quot;</span><span class=\"mtk4\">)</span><span class=\"mtk8\">&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        .</span><span class=\"mtk11\">strong</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>and add some animations:</p>\n<pre class=\"grvsc-container default-dark\" data-language=\"swift\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">let</span><span class=\"mtk1\"> animationDuration = </span><span class=\"mtk7\">0.4</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">Slider</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">value</span><span class=\"mtk1\">: $fO2.</span><span class=\"mtk11\">animation</span><span class=\"mtk1\">(.</span><span class=\"mtk11\">easeInOut</span><span class=\"mtk1\">(</span><span class=\"mtk11\">duration</span><span class=\"mtk1\">: animationDuration)),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">func</span><span class=\"mtk1\"> </span><span class=\"mtk11\">updateMOD</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">withAnimation</span><span class=\"mtk1\">(.</span><span class=\"mtk11\">easeInOut</span><span class=\"mtk1\">(</span><span class=\"mtk11\">duration</span><span class=\"mtk1\">: animationDuration)) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">self</span><span class=\"mtk1\">.</span><span class=\"mtk12\">mod</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">self</span><span class=\"mtk1\">.</span><span class=\"mtk12\">calculator</span><span class=\"mtk1\">.</span><span class=\"mtk11\">calculateMOD</span><span class=\"mtk1\">(</span><span class=\"mtk11\">fO2</span><span class=\"mtk1\">: fO2, </span><span class=\"mtk11\">ppO2</span><span class=\"mtk1\">: ppO2, </span><span class=\"mtk11\">unit</span><span class=\"mtk1\">: unit)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Adding animations in SwiftUI is pretty easy. Just wrap a block of code in <a href=\"https://developer.apple.com/documentation/swiftui/withanimation(_:_:)\">withanimation</a> or add <a href=\"https://developer.apple.com/documentation/swiftui/binding/animation(_:)\">animation</a> to a binding and it will magically animate the affected UI elements.</p>\n<p>And finally, let's set the accent color. Go to Assets > AccentColor > Universal - and from the Inspector select <code>systemGreenColor</code></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 120.25316455696202%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Accent Color\"\n        title=\"\"\n        src=\"/static/ea58b680b812e72ec399acc36b4a2a70/50637/set-accent-color.png\"\n        srcset=\"/static/ea58b680b812e72ec399acc36b4a2a70/dda05/set-accent-color.png 158w,\n/static/ea58b680b812e72ec399acc36b4a2a70/679a3/set-accent-color.png 315w,\n/static/ea58b680b812e72ec399acc36b4a2a70/50637/set-accent-color.png 630w,\n/static/ea58b680b812e72ec399acc36b4a2a70/7842b/set-accent-color.png 800w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>Result</h2>\n<p>And this is the final result:</p>\n<p><video src=\"/2ec10824b2b47caab3bc7c3f095db377/final-result.mov\" autoplay loop muted width=\"400\"></video></p>\n<p>You can find the final code on <a href=\"https://github.com/nikz-codes/nitrox-calculator\">GitHub</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .default-dark .mtk4 { color: #569CD6; }\n  .default-dark .mtk1 { color: #D4D4D4; }\n  .default-dark .mtk10 { color: #4EC9B0; }\n  .default-dark .mtk11 { color: #DCDCAA; }\n  .default-dark .mtk7 { color: #B5CEA8; }\n  .default-dark .mtk15 { color: #C586C0; }\n  .default-dark .mtk12 { color: #9CDCFE; }\n  .default-dark .mtk8 { color: #CE9178; }\n  .default-dark .mtk3 { color: #6A9955; }\n  .default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","fields":{"timeToRead":{"text":"4 min read"}},"frontmatter":{"title":"Nitrox Calculator using SwiftUI (Part 3)","date":"March 07, 2023","description":null,"featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/a4853b9f4493e48be767bd81d1986288/a0dad/nitrox-calc-feature.png","srcSet":"/static/a4853b9f4493e48be767bd81d1986288/c8b8a/nitrox-calc-feature.png 750w,\n/static/a4853b9f4493e48be767bd81d1986288/a0dad/nitrox-calc-feature.png 800w","sizes":"100vw"},"sources":[{"srcSet":"/static/a4853b9f4493e48be767bd81d1986288/a6295/nitrox-calc-feature.webp 750w,\n/static/a4853b9f4493e48be767bd81d1986288/490e2/nitrox-calc-feature.webp 800w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.5625}}},"tags":["swiftui","scuba diving"]}},"previous":{"fields":{"slug":"/nitrox-calculator-using-swiftui-part2/"},"frontmatter":{"title":"Nitrox Calculator using SwiftUI (Part 2)"}},"next":null},"pageContext":{"id":"78524988-7f85-5437-808a-70f28cad22da","previousPostId":"0f0bc7a6-2bd7-5914-9136-52e47a07caef","nextPostId":null}},"staticQueryHashes":["1075282584","2176189737","334351976"],"slicesMap":{}}